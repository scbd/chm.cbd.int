<div>

    <h1>National Target</h1>

	<div class="alert alert-danger" ng-show="hasError()">
		<strong>Error as occured...</strong>
		<div>{{error}}</div>
	</div>

	<div class="row" ng-show="status=='loading'">Loading...</div>
	
	<div class="row" ng-hide="status=='hidden'||status=='loading'">

		<div style="position: relative">

			<div class="row">
				<div class="col-xs-12 visible-xs">
					<div class="">
						<span km-form-languages ng-model="document.header.languages"></span>
						<span km-form-std-buttons document="document" on-post-close="onPostClose()" on-error="onError(error, errorCode)" on-post-workflow="onPostWorkflow(data)" on-post-publish="onPostPublish(data)" on-post-save-draft="onPostSaveDraft(data)" on-pre-save-draft="onPreSaveDraft()" on-pre-publish="onPrePublish()"></span>
					</div>
				</div>

				<div class="col-sm-8 col-xs-12">
					<ul class="pagination">
						<li ng-class="{ disabled: tab=='general' }"><a href="" ng-click="tab='general'">&laquo;</a></li>
						<li ng-class="{ active  : tab=='general' }"><a href="" ng-click="tab='general'">General</a></li>
						<li ng-class="{ active  : tab=='review'  }"><a href="" ng-click="tab='review'">Review</a></li>
						<li ng-class="{ disabled: tab=='review'  }"><a href="" ng-click="tab='review'">&raquo;</a></li>
					</ul>	
				</div>

				<div class="col-sm-4 hidden-xs" style="text-align:right">
					<div class="pagination">
						<span km-form-languages ng-model="document.header.languages"></span>
						<span km-form-std-buttons document="document" on-post-close="onPostClose()" on-error="onError(error, errorCode)" on-post-workflow="onPostWorkflow(data)" on-post-publish="onPostPublish(data)" on-post-save-draft="onPostSaveDraft(data)" on-pre-save-draft="onPreSaveDraft()" on-pre-publish="onPrePublish()"></span>
					</div>
				</div>
			</div>
			<div>

				<form name="editForm">

					<div km-tab="general">

						<legend>General Information</legend>

						<div class="row bottom-spacing">
							<div class="col-md-12">
								<div class="km-control-group" required name="government" caption="Country">
									<div km-select ng-disabled="!!defaultGovernment()" required name="government" ng-model="document.government" placeholder="Please select country" watch-items items="options.countries"></div>
								</div>
							</div>
						</div>

						<div class="row">
							<div class="col-md-12">
								<div class="km-control-group" required name="title" caption="Title">
									<div class="help-block">Please use the official title, if available.</div>
									<div km-textbox-ml required name="title" ng-model="document.title" locales="document.header.languages"></div>
								</div>
							</div>
						</div>

						<div class="row">
							<div class="col-md-12">
								<div class="km-control-group" required name="description" caption="Description of the National Target">
									<div km-textbox-ml required name="description" ng-model="document.description" rows="5" locales="document.header.languages" placeholder=""></div>
								</div>
							</div>
						</div>

						<div class="row bottom-spacing">
							<div class="col-md-11 ">
								<div class="km-control-group" required name="jurisdiction" caption="Level of application">
								<span class="help-block">Please specify if the target refers to the national or subnational level</span>
									<div km-select name="jurisdiction" ng-model="document.jurisdiction" placeholder="Select level of application" watch-items items="options.jurisdictions"></div>
								</div>
							</div>
							<div class="col-md-10" ng-show="isJurisdictionSubNational()">
								<div class="km-control-group" required name="jurisdictionInfo" caption="Please provide additional details on the specific level of application">
									<div km-textbox-ml name="jurisdictionInfo" ng-model="document.jurisdictionInfo" rows="3" locales="document.header.languages" placeholder=""></div>
								</div>
							</div>
						</div>


						<legend>Targets and indicators</legend>

						<div class="row bottom-spacing">
							<div class="col-md-12">
								<div class="km-control-group" required name="aichiTargets" caption="Main related Aichi Targets">
									<div km-select required displaycount="1" name="aichiTargets" multiple ng-model="document.aichiTargets" placeholder="Please select Aichi Target" watch-items items="options.aichiTargets"></div>
								</div>
							</div>

							<div class="col-md-12">
								<div class="km-control-group" name="otherAichiTargets" caption="Other related Aichi Targets">
									<div km-select name="otherAichiTargets" multiple ng-model="document.otherAichiTargets" placeholder="Please select Aichi Target" watch-items items="options.aichiTargets"></div>
								</div>
							</div>
						</div>

						<div class="row">
							<div class="col-md-12">
								<div class="km-control-group" required name="meansOfAssessment" caption="Means to assess progress">
									<div km-textbox-ml required name="meansOfAssessment" ng-model="document.meansOfAssessment" rows="6" locales="document.header.languages" placeholder=""></div>
								</div>
							</div>
						</div>

						<div class="row bottom-spacing">
							<div class="col-md-12">
								<div class="km-control-group" required name="higherLevelNationalTarget" caption="If this National Target is a sub-target, please indicate the higher level National Target.">
									<div km-select required displaycount="1" name="higherLevelNationalTarget" multiple ng-model="document.higherLevelNationalTarget" placeholder="Please select National Target" watch-items items="options.nationalTargets"></div>
								</div>
							</div>
						</div>

						<div class="row bottom-spacing">
							<div class="col-md-12">
								<div class="km-control-group" name="nationalIndicators" caption="Link to National Indicators">
									<div km-select name="nationalIndicators" multiple ng-model="document.nationalIndicators" placeholder="" watch-items items="options.nationalIndicators"></div>
								</div>
							</div>
						</div>

						<legend>Partners</legend>

						<div class="row  bottom-spacing">
							<div class="col-md-12">
								<div class="km-control-group" name="partners" caption="Link to Relevant Partners">
									<div km-reference name="partners" multiple ng-model="document.partners" loader="loadRecords(identifier, 'organization')" order-by="sortContacts(reference)">
										<div>
											<div><strong>{{reference.title | lstring}}</strong></div>
											<div>{{reference.summary | lstring}}</div>
										</div>
									</div>
								</div>
							</div>
						</div>


						<legend>Main relevant document(s) and information</legend>

						<div class="row  bottom-spacing">
							<div class="col-md-12">
								<div class="km-control-group" name="documentText" caption="Relevant information">
									<div km-textbox-ml name="documentText" ng-model="document.documentText" rows="5" locales="document.header.languages" placeholder=""></div>
								</div>
							</div>
						</div>
						<div class="row  bottom-spacing">
							<div class="col-md-12">
								<div class="km-control-group" name="documentLinks" caption="Relevant websites, links, and files">
									<div km-link name="documents" ng-model="document.documentLinks" identifier="document.header.identifier"></div>
								</div>
							</div>
						</div>

						<legend>Other Relevant Information</legend>

						<div class="row">
							<div class="col-md-12">
								<div class="km-control-group" name="relevantInformation" caption="Additional Information">
									<div class="help-block">Please use this field to provide any other relevant information that may not have been addressed elsewhere in the record.</div>
									<div km-textbox-ml name="relevantInformation" rows="6" ng-model="document.relevantInformation" locales="document.header.languages"></div>
								</div>
							</div>
						</div>

						<div class="row">
							<div class="col-md-12">
								<div class="km-control-group" name="relevantDocuments" caption="Other relevant website address or attached documents">
									<div km-link name="relevantDocuments" ng-model="document.relevantDocuments" identifier="document.header.identifier"></div>
								</div>
							</div>
						</div>

						<legend>Notes (private) </legend>
						<div class="row">
							<div class="col-md-12">
								<div class="km-control-group" name="notes" caption="Notes">
									<div km-notes name="notes" ng-model="document.notes"></div>
								</div>
							</div>
						</div>
					</div>
					<!--end addtional info tab-->
				</form>
				<div km-tab="review">

					<div km-document-validation ng-model="validationReport"></div>

					<div class="btn-group" ng-show="document.header.languages.length>1">
						<input type="button" class="btn" ng-class="{'active' : review.locale==locale, 'btn-info' : review.locale==locale}" ng-repeat="locale in document.header.languages" ng-click="$parent.review.locale = locale" value="{{locale | uppercase}}" />
					</div>

					<div class="viewNationalTarget" ng-model="document" locale="review.locale"></div>
				</div>

				<div class="row">

					<div class="col-sm-9 col-xs-12">
						<ul class="pagination">
							<li ng-class="{ disabled: tab=='general' }"><a href="" ng-click="tab='general'">&laquo;</a></li>
							<li ng-class="{ active  : tab=='general' }"><a href="" ng-click="tab='general'">General</a></li>
							<li ng-class="{ active  : tab=='review'  }"><a href="" ng-click="tab='review'">Review</a></li>
							<li ng-class="{ disabled: tab=='review'  }"><a href="" ng-click="tab='review'">&raquo;</a></li>
						</ul>	
					</div>

					<div class="col-sm-3 hidden-xs" style="text-align:right">
						<div class="pagination">
							<span km-form-std-buttons document="document" on-post-close="onPostClose()" on-error="onError(error, errorCode)" on-post-workflow="onPostWorkflow(data)" on-post-publish="onPostPublish(data)" on-post-save-draft="onPostSaveDraft(data)" on-pre-save-draft="onPreSaveDraft()" on-pre-publish="onPrePublish()"></span>
						</div>
					</div>

					<div class="col-xs-12 visible-xs">
						<div class="">
							<span km-form-std-buttons document="document" on-post-close="onPostClose()" on-error="onError(error, errorCode)" on-post-workflow="onPostWorkflow(data)" on-post-publish="onPostPublish(data)" on-post-save-draft="onPostSaveDraft(data)" on-pre-save-draft="onPreSaveDraft()" on-pre-publish="onPrePublish()"></span>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>
