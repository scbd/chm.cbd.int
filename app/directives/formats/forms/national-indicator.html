
<div layout="column"  class="row md-whiteframe-z1">
  <div smooth-scroll duration="100" offset="250" ></div>
<md-toolbar>
    <div class="md-toolbar-tools bg-darkgrey" >
      <h2 class="md-flex">Online Reporting: National Indicator   <i ng-show="status=='loading'" class="fa fa-spinner fa-spin"></i></h2>
    </div>
  </md-toolbar>
  <md-content style="padding:20px;background-color:transparent;">

	<div class="alert alert-danger" ng-show="hasError()">
		<strong>An error has occurred...</strong>
		<div>{{error}}</div>
	</div>

	<div ng-show="status=='loading'">Loading...</div>

	<div ng-hide="status=='hidden'||status=='loading'">

		 <div class="row" >
			<div class="col-xs-6">
				<span km-form-languages ng-model="document.header.languages"></span>
			</div>
            <div class="col-xs-6 text-right">
                <span km-form-material-buttons status="status" document="getCleanDocument()" on-post-close="onPostClose()" on-error="onError(error, errorCode)" on-post-workflow="onPostWorkflow(data)" on-post-publish="onPostPublish(data)" on-post-save-draft="onPostSaveDraft(data)" on-pre-save-draft="onPreSaveDraft()" on-pre-publish="onPrePublish()"></span>
            </div>
        </div>

        <div class="row">
			<div class="col-xs-12">
				<ul class="pagination">
					<li ng-class="{ disabled: tab=='general' }"><a href="" ng-click="tab='general'">&laquo;</a></li>
					<li ng-class="{ active  : tab=='general' }"><a href="" ng-click="tab='general'">General</a></li>
					<li ng-class="{ active  : tab=='review'  }"><a href="" ng-click="tab='review'">Review</a></li>
					<li ng-class="{ disabled: tab=='review'  }"><a href="" ng-click="tab='review'">&raquo;</a></li>
				</ul>
			</div>
		</div>

		<div km-tab="general">
			<form-national-indicator ng-model="document"></form-national-indicator>
		</div>

		<div km-tab="review">

			<div km-document-validation ng-model="validationReport"></div>

			<div class="btn-group" ng-show="document.header.languages.length>1">
				<input type="button" class="btn" ng-class="{'active' : review.locale==locale, 'btn-info' : review.locale==locale}" ng-repeat="locale in document.header.languages" ng-click="$parent.review.locale = locale" value="{{locale | uppercase}}" />
			</div>

			<view-national-indicator ng-model="reviewDocument" locale="review.locale" link-target="_blank"></view-national-indicator>
		</div>

		<div class="row" style="padding-bottom:30px;">
			<div class="col-sm-9 col-xs-12">
				<ul class="pagination">
					<li ng-class="{ disabled: tab=='general' }"><a href="" ng-click="tab='general'">&laquo;</a></li>
					<li ng-class="{ active  : tab=='general' }"><a href="" ng-click="tab='general'">General</a></li>
					<li ng-class="{ active  : tab=='review'  }"><a href="" ng-click="tab='review'">Review</a></li>
					<li ng-class="{ disabled: tab=='review'  }"><a href="" ng-click="tab='review'">&raquo;</a></li>
				</ul>
			</div>


			<div class="col-xs-12 text-right">
				<div class="">
                    <span km-form-material-buttons status="status" document="getCleanDocument()" on-post-close="onPostClose()" on-error="onError(error, errorCode)" on-post-workflow="onPostWorkflow(data)" on-post-publish="onPostPublish(data)" on-post-save-draft="onPostSaveDraft(data)" on-pre-save-draft="onPreSaveDraft()" on-pre-publish="onPrePublish()"></span>
				</div>
			</div>
		</div>
		
	</div>
  </md-content>
</div>
